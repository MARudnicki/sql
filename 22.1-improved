DROP FUNCTION IF EXISTS errorMessage;
DROP PROCEDURE IF EXISTS findCustomer;

DELIMITER $$

CREATE FUNCTION errorMessage() RETURNS VARCHAR(12) DETERMINISTIC
BEGIN
	RETURN 'Incorrect ID';
END ;


CREATE PROCEDURE findCustomer(id INT)
BEGIN 
	IF id > 0 THEN
		SELECT * FROM READERS WHERE READER_ID = id;

	ELSE
		SELECT errorMessage() AS MESSAGE;
	END IF;
END $$

DELIMITER ;

CALL findCustomer(2);
